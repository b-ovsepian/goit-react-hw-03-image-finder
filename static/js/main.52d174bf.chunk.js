(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,r){e.exports={Overlay:"Modal_Overlay__33Ypd",Modal:"Modal_Modal__3ihEg"}},23:function(e,t,r){e.exports={spiner:"Loader_spiner__2bY1v"}},24:function(e,t,r){e.exports={error:"Error_error__Tc3JL",error__text:"Error_error__text__3Uj5M"}},32:function(e,t,r){},6:function(e,t,r){e.exports={Searchbar:"Searchbar_Searchbar__3YYEG",SearchForm:"Searchbar_SearchForm__1hX1-","SearchForm-button":"Searchbar_SearchForm-button__20dn1","SearchForm-button-label":"Searchbar_SearchForm-button-label__3sHIt","SearchForm-input":"Searchbar_SearchForm-input__3n46i"}},73:function(e,t,r){},74:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r(0),c=r(21),o=r.n(c),s=(r(32),r(5)),i=r.n(s),u=r(12),l=r(9),h=r(4),b=(r(34),r(22)),j=r.n(b),m=r(23),d=r.n(m),f=function(){return Object(a.jsx)(j.a,{type:"ThreeDots",color:"#3f51b5",height:80,width:80,className:d.a.spiner})},p=r(11),O=r.n(p),g=function(e){var t=e.onCloseModal,r=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){console.log("unmounting..."),window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:O.a.Overlay,onClick:function(e){"DIV"===e.target.nodeName&&t()},children:Object(a.jsx)("div",{className:O.a.Modal,children:r})})})},x=r(24),_=r.n(x),v=function(e){var t=e.children;return Object(a.jsx)("div",{className:_.a.error,children:t})},S=r(6),y=r.n(S),w=function(e){var t=e.query,r=e.onSubmit,n=e.setQuery;return Object(a.jsx)("header",{className:y.a.Searchbar,children:Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(t)},className:y.a.SearchForm,children:[Object(a.jsx)("button",{type:"submit",className:y.a["SearchForm-button"],children:Object(a.jsx)("span",{className:y.a["SearchForm-button-label"],children:"Search"})}),Object(a.jsx)("input",{className:y.a["SearchForm-input"],onChange:function(e){var t=e.target.value;n(t)},value:t,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},F=r(25),N=r(26),I=r.n(N),k=function(){var e=Object(l.a)(i.a.mark((function e(t,r){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(t,"&page=").concat(r,"&per_page=16&key=").concat("18582264-4fafc4bd5c65c2ee349044428;"),e.next=3,I.a.get(a);case 3:return n=e.sent,e.abrupt("return",n.data.hits);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),E=(r(73),function(){var e=Object(n.useState)(""),t=Object(h.a)(e,2),r=t[0],c=t[1],o=Object(n.useState)(1),s=Object(h.a)(o,2),b=s[0],j=s[1],m=Object(n.useState)([]),d=Object(h.a)(m,2),p=d[0],O=d[1],x=Object(n.useState)(!1),_=Object(h.a)(x,2),S=_[0],y=_[1],N=Object(n.useState)(!1),I=Object(h.a)(N,2),E=I[0],L=I[1],M=Object(n.useState)(""),C=Object(h.a)(M,2),U=C[0],G=C[1],R=Object(n.useState)({}),T=Object(h.a)(R,2),Y=T[0],q=T[1];Object(n.useEffect)((function(){!p.length&&r&&U?G("Images not found! Try again..."):G("")}),[p]);var D=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,k(r,b);case 4:t=e.sent,O((function(e){return[].concat(Object(u.a)(e),Object(u.a)(t))})),j((function(e){return e+1})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),G(e.t0.message);case 12:return e.prev=12,y(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w,{onSubmit:function(){D(),j(1),O([])},query:r,setQuery:c}),E&&Object(a.jsx)(g,{onCloseModal:function(e){L(!1),q(null)},children:Object(a.jsx)("img",{src:Y.largeImageURL,alt:Y.tags})}),!U&&Object(a.jsx)(F.a,{className:"ImageGallery",dataLength:p.length,next:D,hasMore:!0,scrollThreshold:"50px",loader:S&&Object(a.jsx)(f,{}),children:p.map((function(e){var t=e.id,r=e.webformatURL,n=e.tags,c=e.webformatWidth,o=e.webformatHeight,s=e.largeImageURL;return Object(a.jsx)("div",{className:"ImageGalleryItem",children:Object(a.jsx)("img",{src:r,alt:n,width:c,height:o,className:"ImageGalleryItem-image",onClick:function(){var e;e={largeImageURL:s,tags:n},L(!0),q(e)}})},t)}))}),U&&Object(a.jsx)(v,{children:Object(a.jsx)("h2",{children:U})})]})});o.a.render(Object(a.jsx)(E,{}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.52d174bf.chunk.js.map