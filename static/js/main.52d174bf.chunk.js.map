{"version":3,"sources":["Components/Modal/Modal.module.css","Components/Loader/Loader.module.css","Components/Error/Error.module.css","Components/Searchbar/Searchbar.module.css","Components/Loader/Loader.js","Components/Modal/Modal.js","Components/Error/Error.js","Components/Searchbar/Searchbar.js","Components/Services/Services.js","App.js","index.js"],"names":["module","exports","LoaderComponent","type","color","height","width","className","Style","spiner","Modal","onCloseModal","children","useEffect","window","addEventListener","handleEsc","console","log","removeEventListener","e","code","Styles","Overlay","onClick","target","nodeName","Error","error","Searchbar","query","onSubmit","setQuery","preventDefault","SearchForm","onChange","value","autoComplete","autoFocus","placeholder","axiosImages","page","a","url","process","axios","get","result","data","hits","App","useState","setPage","images","setImages","loader","setLoader","modal","setModal","setError","imageModal","setImageModal","length","getImages","prev","message","src","largeImageURL","alt","tags","dataLength","next","hasMore","scrollThreshold","Loader","map","image","id","webformatURL","webformatWidth","webformatHeight","obj","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.52d174bf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__33Ypd\",\"Modal\":\"Modal_Modal__3ihEg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spiner\":\"Loader_spiner__2bY1v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error_error__Tc3JL\",\"error__text\":\"Error_error__text__3Uj5M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3YYEG\",\"SearchForm\":\"Searchbar_SearchForm__1hX1-\",\"SearchForm-button\":\"Searchbar_SearchForm-button__20dn1\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__3sHIt\",\"SearchForm-input\":\"Searchbar_SearchForm-input__3n46i\"};","import React from \"react\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport Style from \"./Loader.module.css\";\n\nconst LoaderComponent = () => {\n  return (\n    <Loader\n      type=\"ThreeDots\"\n      color=\"#3f51b5\"\n      height={80}\n      width={80}\n      className={Style.spiner}\n    />\n  );\n};\n\nexport default LoaderComponent;\n","import React, { useEffect } from \"react\";\nimport Styles from \"./Modal.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst Modal = ({ onCloseModal, children }) => {\n  // Pass useEffect a function\n  useEffect(() => {\n    // This gets called after every render, by default\n    // (the first one, and every one after that)\n    window.addEventListener(\"keydown\", handleEsc);\n\n    // If you want to implement componentWillUnmount,\n    // return a function from here, and React will call\n    // it prior to unmounting.\n    return () => {\n      console.log(\"unmounting...\");\n      window.removeEventListener(\"keydown\", handleEsc);\n    };\n  });\n\n  const handleEsc = (e) => {\n    if (e.code === \"Escape\") {\n      onCloseModal();\n    }\n  };\n\n  const handleBackdropClick = (e) => {\n    if (e.target.nodeName === \"DIV\") {\n      onCloseModal();\n    }\n  };\n  return (\n    <>\n      <div className={Styles.Overlay} onClick={handleBackdropClick}>\n        <div className={Styles.Modal}>{children}</div>\n      </div>\n    </>\n  );\n};\n\nexport default Modal;\n\nModal.propTypes = {\n  children: PropTypes.node.isRequired,\n  onCloseModal: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Styles from \"./Error.module.css\";\n\nconst Error = ({ children }) => {\n  return <div className={Styles.error}>{children}</div>;\n};\nError.propTypes = {\n  children: PropTypes.node.isRequired,\n};\nexport default Error;\n","import React from \"react\";\nimport Styles from \"./Searchbar.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst Searchbar = ({ query, onSubmit, setQuery }) => {\n  const handlerInputChange = (e) => {\n    const value = e.target.value;\n    setQuery(value);\n  };\n\n  const handleOnSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(query);\n  };\n\n  return (\n    <header className={Styles.Searchbar}>\n      <form onSubmit={handleOnSubmit} className={Styles.SearchForm}>\n        <button type=\"submit\" className={Styles[\"SearchForm-button\"]}>\n          <span className={Styles[\"SearchForm-button-label\"]}>Search</span>\n        </button>\n\n        <input\n          className={Styles[\"SearchForm-input\"]}\n          onChange={handlerInputChange}\n          value={query}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n};\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import axios from \"axios\";\n\n//You must add your API_KEY to .env\n\nexport const axiosImages = async (query, page) => {\n  const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=16&key=${process.env.REACT_APP_API_KEY}`;\n  const result = await axios.get(url);\n  return result.data.hits;\n};\n","import React, { useState, useEffect } from \"react\";\nimport Loader from \"./Components/Loader/Loader\";\nimport Modal from \"./Components/Modal/Modal\";\nimport Error from \"./Components/Error/Error\";\nimport Searchbar from \"./Components/Searchbar/Searchbar\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { axiosImages } from \"./Components/Services/Services\";\nimport \"./App.css\";\n\nconst App = () => {\n  const [query, setQuery] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [loader, setLoader] = useState(false);\n  const [modal, setModal] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [imageModal, setImageModal] = useState({});\n\n  useEffect(() => {\n    if (!images.length && query && error) {\n      setError(\"Images not found! Try again...\");\n    } else setError(\"\");\n  }, [images]);\n\n  const handleSearchOnSubmit = () => {\n    getImages();\n    setPage(1);\n    setImages([]);\n  };\n  const getImages = async () => {\n    setLoader(true);\n    try {\n      const data = await axiosImages(query, page);\n      setImages((prev) => [...prev, ...data]);\n      setPage((prev) => prev + 1);\n    } catch (error) {\n      setError(error.message);\n    } finally {\n      setLoader(false);\n    }\n  };\n\n  const handleOpenModal = (obj) => {\n    setModal(true);\n    setImageModal(obj);\n  };\n\n  const handleCloseModal = (e) => {\n    setModal(false);\n    setImageModal(null);\n  };\n  return (\n    <>\n      <Searchbar\n        onSubmit={handleSearchOnSubmit}\n        query={query}\n        setQuery={setQuery}\n      />\n      {modal && (\n        <Modal onCloseModal={handleCloseModal}>\n          <img src={imageModal.largeImageURL} alt={imageModal.tags} />\n        </Modal>\n      )}\n      {!error && (\n        <InfiniteScroll\n          className=\"ImageGallery\"\n          dataLength={images.length}\n          next={getImages}\n          hasMore={true}\n          scrollThreshold=\"50px\"\n          loader={loader && <Loader />}\n        >\n          {images.map((image) => {\n            const {\n              id,\n              webformatURL,\n              tags,\n              webformatWidth,\n              webformatHeight,\n              largeImageURL,\n            } = image;\n\n            return (\n              <div className=\"ImageGalleryItem\" key={id}>\n                <img\n                  src={webformatURL}\n                  alt={tags}\n                  width={webformatWidth}\n                  height={webformatHeight}\n                  className=\"ImageGalleryItem-image\"\n                  onClick={() => {\n                    handleOpenModal({ largeImageURL, tags });\n                  }}\n                />\n              </div>\n            );\n          })}\n        </InfiniteScroll>\n      )}\n      {error && (\n        <Error>\n          <h2>{error}</h2>\n        </Error>\n      )}\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}